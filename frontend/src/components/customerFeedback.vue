<template>
  <v-container id="story" class="py-12">
    <h3 class="text-center font-weight-bold mb-10">
      {{ translations.title[selectedLanguage] }}
      <span class="pulse-heart" style="font-size: 32px;">â¤ï¸</span>
    </h3>

    <v-row justify="center" align="stretch" dense>
      <v-col
        cols="12"
        sm="6"
        md="4"
        v-for="(testimonial, index) in testimonials"
        :key="index"
      >
        <v-card class="d-flex flex-column h-100" outlined>
          <v-card-title class="font-weight-bold">
            {{ testimonial.name }}
          </v-card-title>
          <v-card-text>
            {{ testimonial.text[selectedLanguage] }}
          </v-card-text>
        </v-card>
      </v-col>
    </v-row>
  </v-container>
</template>

<script setup>
import { ref, onMounted } from 'vue'

// ğŸ”¤ Nyelv figyelÃ©se a <html lang="..."> alapjÃ¡n
const selectedLanguage = ref(document.documentElement.lang || 'hu')

onMounted(() => {
  const observer = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      if (mutation.attributeName === 'lang') {
        selectedLanguage.value = document.documentElement.lang
      }
    })
  })
  observer.observe(document.documentElement, { attributes: true })
})

// ğŸ—£ï¸ FordÃ­tÃ¡sok
const translations = {
  title: {
    hu: 'VÃ©lemÃ©nye',
    de: 'Kundenstimmen',
    en: 'Testimonials'
  }
}

// ğŸ’¬ VÃ©lemÃ©nyek
const testimonials = [
  {
    name: 'Eszter',
    text: {
      hu: 'â€Az online tÃ©rben is biztonsÃ¡gban Ã©reztem magamâ€¦ VÃ©gre elindultam az Ã¶nmegvalÃ³sÃ­tÃ¡s ÃºtjÃ¡nâ€¦ Nagyon nagy hÃ¡la van bennem! â¤ï¸â€',
      de: 'â€Ich fÃ¼hlte mich auch online sicherâ€¦ Endlich habe ich mich auf den Weg der Selbstverwirklichung gemachtâ€¦ Ich bin sehr dankbar! â¤ï¸â€',
      en: 'â€I felt safe even in the online spaceâ€¦ I finally started my journey of self-realizationâ€¦ Iâ€™m deeply grateful! â¤ï¸â€'
    }
  },
  {
    name: 'TamÃ¡s',
    text: {
      hu: 'â€Minden kÃ©pzÃ©seden rÃ©szt vettem eddigâ€¦ Rengeteg tudÃ¡st kaptam. KÃ¶szÃ¶nÃ¶m!â€',
      de: 'â€Ich habe an allen deinen Schulungen teilgenommenâ€¦ Ich habe so viel gelernt. Danke!â€',
      en: 'â€Iâ€™ve attended all your trainings so farâ€¦ Iâ€™ve gained so much knowledge. Thank you!â€'
    }
  },
  {
    name: 'Anna',
    text: {
      hu: 'â€Egy baleset utÃ¡n Ãºjra kellett Ã©pÃ­teni magamâ€¦ Az Ã©letem 180 fokos fordulatot vettâ€¦ Nagyon kÃ¶szÃ¶nÃ¶m a tÃ¼relmedet!â€',
      de: 'â€Nach einem Unfall musste ich mich neu aufbauenâ€¦ Mein Leben hat sich um 180 Grad gewendetâ€¦ Vielen Dank fÃ¼r deine Geduld!â€',
      en: 'â€After an accident I had to rebuild myselfâ€¦ My life turned around completelyâ€¦ Thank you for your patience!â€'
    }
  },
  {
    name: 'PÃ©ter',
    text: {
      hu: 'â€Az online Ã³rÃ¡ink olyanok voltak, mintha elutaztam volna egy szigetreâ€¦ MegtanÃ­tottad, hogy mÃ¡shogy is lehet nÃ©zni az Ã©letemre.â€',
      de: 'â€Unsere Online-Stunden fÃ¼hlten sich an wie eine Reise auf eine Inselâ€¦ Du hast mir gezeigt, dass man das Leben auch anders sehen kann.â€',
      en: 'â€Our online sessions felt like a trip to an islandâ€¦ You taught me to see my life differently.â€'
    }
  }
]
</script>

<style scoped>
.pulse-heart {
  display: inline-block;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}
</style>
